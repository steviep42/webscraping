<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Web Scraping with R</title>
  <meta name="description" content="This is in support of my talk for the Data Science group">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Web Scraping with R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is in support of my talk for the Data Science group" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Web Scraping with R" />
  
  <meta name="twitter:description" content="This is in support of my talk for the Data Science group" />
  

<meta name="author" content="Steve Pittard">


<meta name="date" content="2018-11-11">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="xml.html">
<link rel="next" href="APIs.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.1/leaflet.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Web Scraping</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Motivations</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#lots-of-data-for-the-taking"><i class="fa fa-check"></i><b>1.1</b> Lots of Data For The Taking ?</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#web-scraping-can-be-ugly"><i class="fa fa-check"></i><b>1.2</b> Web Scraping Can Be Ugly</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#understanding-the-language-of-the-web"><i class="fa fa-check"></i><b>1.3</b> Understanding The Language of The Web</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#useful-packages"><i class="fa fa-check"></i><b>1.4</b> Useful Packages</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#quick-rvest-tutorial"><i class="fa fa-check"></i><b>1.5</b> Quick <strong>rvest</strong> tutorial</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#example-parsing-a-table-from-wikipedia"><i class="fa fa-check"></i><b>1.6</b> Example: Parsing A Table From Wikipedia</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#summary"><i class="fa fa-check"></i><b>1.7</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="xml.html"><a href="xml.html"><i class="fa fa-check"></i><b>2</b> XML and JSON</a><ul>
<li class="chapter" data-level="2.1" data-path="xml.html"><a href="xml.html#finding-xpaths"><i class="fa fa-check"></i><b>2.1</b> Finding XPaths</a></li>
<li class="chapter" data-level="2.2" data-path="xml.html"><a href="xml.html#example-geocoding-with-google"><i class="fa fa-check"></i><b>2.2</b> Example: GeoCoding With Google</a></li>
<li class="chapter" data-level="2.3" data-path="xml.html"><a href="xml.html#using-json"><i class="fa fa-check"></i><b>2.3</b> Using JSON</a></li>
<li class="chapter" data-level="2.4" data-path="xml.html"><a href="xml.html#using-the-rjsonio-package"><i class="fa fa-check"></i><b>2.4</b> Using the RJSONIO Package</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Moreexamples.html"><a href="Moreexamples.html"><i class="fa fa-check"></i><b>3</b> More Real Life Examples</a><ul>
<li class="chapter" data-level="3.1" data-path="Moreexamples.html"><a href="Moreexamples.html#bitcoin-prices"><i class="fa fa-check"></i><b>3.1</b> BitCoin Prices</a></li>
<li class="chapter" data-level="3.2" data-path="Moreexamples.html"><a href="Moreexamples.html#faculty-salaries"><i class="fa fa-check"></i><b>3.2</b> Faculty Salaries</a></li>
<li class="chapter" data-level="3.3" data-path="Moreexamples.html"><a href="Moreexamples.html#filling-out-forms-from-a-program"><i class="fa fa-check"></i><b>3.3</b> Filling Out Forms From a Program</a></li>
<li class="chapter" data-level="3.4" data-path="Moreexamples.html"><a href="Moreexamples.html#pubmed"><i class="fa fa-check"></i><b>3.4</b> PubMed</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="APIs.html"><a href="APIs.html"><i class="fa fa-check"></i><b>4</b> APIs</a><ul>
<li class="chapter" data-level="4.1" data-path="APIs.html"><a href="APIs.html#omdb"><i class="fa fa-check"></i><b>4.1</b> OMDB</a></li>
<li class="chapter" data-level="4.2" data-path="APIs.html"><a href="APIs.html#the-omdbapi-package"><i class="fa fa-check"></i><b>4.2</b> The omdbapi package</a></li>
<li class="chapter" data-level="4.3" data-path="APIs.html"><a href="APIs.html#rselenium"><i class="fa fa-check"></i><b>4.3</b> RSelenium</a></li>
<li class="chapter" data-level="4.4" data-path="APIs.html"><a href="APIs.html#easypubmed"><i class="fa fa-check"></i><b>4.4</b> EasyPubMed</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="bagofwords.html"><a href="bagofwords.html"><i class="fa fa-check"></i><b>5</b> Bag of Words Sentiment Analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="bagofwords.html"><a href="bagofwords.html#workflow"><i class="fa fa-check"></i><b>5.1</b> Workflow</a></li>
<li class="chapter" data-level="5.2" data-path="bagofwords.html"><a href="bagofwords.html#simple-example"><i class="fa fa-check"></i><b>5.2</b> Simple Example</a></li>
<li class="chapter" data-level="5.3" data-path="bagofwords.html"><a href="bagofwords.html#tidytext"><i class="fa fa-check"></i><b>5.3</b> tidytext</a></li>
<li class="chapter" data-level="5.4" data-path="bagofwords.html"><a href="bagofwords.html#back-to-the-pubmed-example"><i class="fa fa-check"></i><b>5.4</b> Back To The PubMed Example</a></li>
<li class="chapter" data-level="5.5" data-path="bagofwords.html"><a href="bagofwords.html#bigrams"><i class="fa fa-check"></i><b>5.5</b> BiGrams</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>6</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Web Scraping with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Moreexamples" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> More Real Life Examples</h1>
<p>Okay. This is a tour of some sites that will serve as important examples on how to parse sites. Let’s check the price of bitcoins. You want to be rich don’t you ?</p>
<div id="bitcoin-prices" class="section level2">
<h2><span class="header-section-number">3.1</span> BitCoin Prices</h2>
<div class="figure">
<img src="PICS/crypto.png" width="650" />

</div>
<div class="figure">
<img src="PICS/view_source.png" width="750" />

</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rvest)
url &lt;-<span class="st"> &quot;https://coinmarketcap.com/all/views/all/&quot;</span>
bc &lt;-<span class="st"> </span><span class="kw">read_html</span>(url)

path &lt;-<span class="st"> &#39;//*[@id=&quot;currencies-all&quot;]&#39;</span>
 bc_table &lt;-<span class="st"> </span>bc <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_nodes</span>(<span class="dt">xpath=</span>path) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_table</span>()
 <span class="co"># We get back a one element list that is a data frame</span>
 <span class="kw">str</span>(bc_table,<span class="dv">0</span>)</code></pre></div>
<pre><code>## List of 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"> bc_table &lt;-<span class="st"> </span>bc_table[[<span class="dv">1</span>]]
 <span class="kw">head</span>(bc_table[,<span class="dv">3</span><span class="op">:</span><span class="dv">5</span>])</code></pre></div>
<pre><code>##   Symbol       Market Cap     Price
## 1    BTC $110,992,494,250  $6389.44
## 2    ETH  $21,696,139,172   $210.35
## 3    XRP  $20,251,896,191 $0.503709
## 4    BCH   $9,231,705,595   $528.95
## 5    XLM   $5,137,157,764 $0.271273
## 6    EOS   $4,824,053,169     $5.32</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The data is &quot;dirty&quot; and has characers in it that need cleaning</span>
bc_table &lt;-<span class="st"> </span>bc_table <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(Name,Symbol,Price)
bc_table &lt;-<span class="st"> </span>bc_table <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Name=</span><span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>,<span class="st">&quot; &quot;</span>,Name))
bc_table &lt;-<span class="st"> </span>bc_table <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Name=</span><span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">.+&quot;</span>,<span class="st">&quot;&quot;</span>,Name))
bc_table &lt;-<span class="st"> </span>bc_table <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Price=</span><span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">$&quot;</span>,<span class="st">&quot;&quot;</span>,Price))
bc_table &lt;-<span class="st"> </span>bc_table <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">Price=</span><span class="kw">round</span>(<span class="kw">as.numeric</span>(Price),<span class="dv">2</span>))</code></pre></div>
<pre><code>## Warning in evalq(round(as.numeric(Price), 2), &lt;environment&gt;): NAs
## introduced by coercion</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># There are four rows wherein the Price is missing NA</span>
bc_table &lt;-<span class="st"> </span>bc_table <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(<span class="kw">complete.cases</span>(bc_table))

<span class="co"># Let&#39;s get the Crypto currencies with the Top 10 highest prices </span>
top_<span class="dv">10</span> &lt;-<span class="st"> </span>bc_table <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">arrange</span>(<span class="kw">desc</span>(Price)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>(<span class="dv">10</span>)

<span class="co"># Next we want to make a barplot of the Top 10</span>
ylim=<span class="kw">c</span>(<span class="dv">0</span>,<span class="kw">max</span>(top_<span class="dv">10</span><span class="op">$</span>Price)<span class="op">+</span><span class="dv">10000</span>)
main=<span class="st">&quot;Top 10 Crypto Currencies in Terms of Price&quot;</span>
bp &lt;-<span class="st"> </span><span class="kw">barplot</span>(top_<span class="dv">10</span><span class="op">$</span>Price,<span class="dt">col=</span><span class="st">&quot;aquamarine&quot;</span>,
              <span class="dt">ylim=</span>ylim,<span class="dt">main=</span>main)
<span class="kw">axis</span>(<span class="dv">1</span>, <span class="dt">at=</span>bp, <span class="dt">labels=</span>top_<span class="dv">10</span><span class="op">$</span>Symbol,  <span class="dt">cex.axis =</span> <span class="fl">0.7</span>)
<span class="kw">grid</span>()</code></pre></div>
<p><img src="Web_Scraping_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Let&#39;s take the log of the price</span>
ylim=<span class="kw">c</span>(<span class="dv">0</span>,<span class="kw">max</span>(<span class="kw">log</span>(top_<span class="dv">10</span><span class="op">$</span>Price))<span class="op">+</span><span class="dv">5</span>)
main=<span class="st">&quot;Top 10 Crypto Currencies in Terms of log(Price)&quot;</span>
bp &lt;-<span class="st"> </span><span class="kw">barplot</span>(<span class="kw">log</span>(top_<span class="dv">10</span><span class="op">$</span>Price),<span class="dt">col=</span><span class="st">&quot;aquamarine&quot;</span>,
              <span class="dt">ylim=</span>ylim,<span class="dt">main=</span>main)
<span class="kw">axis</span>(<span class="dv">1</span>, <span class="dt">at=</span>bp, <span class="dt">labels=</span>top_<span class="dv">10</span><span class="op">$</span>Symbol,  <span class="dt">cex.axis =</span> <span class="fl">0.7</span>)
<span class="kw">grid</span>()</code></pre></div>
<p><img src="Web_Scraping_files/figure-html/unnamed-chunk-36-2.png" width="672" /></p>
</div>
<div id="faculty-salaries" class="section level2">
<h2><span class="header-section-number">3.2</span> Faculty Salaries</h2>
<p>In this example we have to parse the main table associated with the results page.</p>
<div class="figure">
<img src="PICS/salary.png" alt="Salary" />
<p class="caption">Salary</p>
</div>
<div class="figure">
<img src="PICS/sal_page.png" alt="Salary" />
<p class="caption">Salary</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">url &lt;-<span class="st"> &quot;https://www.insidehighered.com/aaup-compensation-survey&quot;</span>
df &lt;-<span class="st"> </span><span class="kw">read_html</span>(url) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_table</span>() <span class="op">%&gt;%</span><span class="st"> `</span><span class="dt">[[</span><span class="st">`</span>(<span class="dv">1</span>)
intost &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Institution&quot;</span>,<span class="st">&quot;Category&quot;</span>,<span class="st">&quot;State&quot;</span>)
salary &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">separate</span>(InstitutionCategoryState,<span class="dt">into=</span>intost,<span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>) 
salary</code></pre></div>
<pre><code>##                            Institution      Category   State
## 1                    Auburn University      Doctoral ALABAMA
## 2          Birmingham Southern College Baccalaureate ALABAMA
## 3                   Huntingdon College Baccalaureate ALABAMA
## 4                   Samford University        Master ALABAMA
## 5                      Troy University        Master ALABAMA
## 6            The University of Alabama      Doctoral ALABAMA
## 7  University of Alabama at Birmingham      Doctoral ALABAMA
## 8  University of Alabama in Huntsville      Doctoral ALABAMA
## 9             University of Montevallo        Master ALABAMA
## 10         University of South Alabama        Master ALABAMA
##    Avg. SalaryFull Professors Avg. ChangeContinuing Full Professors
## 1                    $126,900                                  3.7%
## 2                     $80,400                                  0.3%
## 3                     $76,700                                  0.0%
## 4                    $104,500                                  1.4%
## 5                     $84,500                                  1.6%
## 6                    $148,100                                  2.0%
## 7                    $135,100                                  1.9%
## 8                    $131,000                                  2.4%
## 9                     $79,800                                  0.0%
## 10                    $89,100                                   N/A
##    CountFull Professors Avg. Total CompensationFull Professors
## 1                   411                               $181,600
## 2                    38                               $102,800
## 3                    13                                $89,500
## 4                   117                               $141,300
## 5                    30                                $88,500
## 6                   300                               $202,400
## 7                   191                               $178,800
## 8                    62                               $177,700
## 9                    44                                      -
## 10                  111                                $97,100
##    Salary EquityFull Professors
## 1                          88.8
## 2                          95.5
## 3                         109.6
## 4                          84.3
## 5                         105.7
## 6                          86.7
## 7                          89.4
## 8                          92.0
## 9                          93.4
## 10                         97.6</code></pre>
<p>So we could process multiple pages</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># So now we could process multiple pages</span>

url &lt;-<span class="st"> &#39;https://www.insidehighered.com/aaup-compensation-survey?institution-name=&amp;professor-category=1591&amp;page=1&#39;</span>
str1 &lt;-<span class="st"> &quot;https://www.insidehighered.com/aaup-compensation-survey?&quot;</span>
str2 &lt;-<span class="st"> &quot;institution-name=&amp;professor-category=1591&amp;page=&quot;</span>
intost &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Institution&quot;</span>,<span class="st">&quot;Category&quot;</span>,<span class="st">&quot;State&quot;</span>)

salary &lt;-<span class="st"> </span><span class="kw">data.frame</span>()
<span class="cf">for</span> (ii <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>) {
  nurl  &lt;-<span class="st"> </span><span class="kw">paste</span>(str1,str2,ii,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>)
  df &lt;-<span class="st"> </span><span class="kw">read_html</span>(nurl)
  tmp &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_table</span>() <span class="op">%&gt;%</span><span class="st"> `</span><span class="dt">[[</span><span class="st">`</span>(<span class="dv">1</span>)
  tmp &lt;-<span class="st"> </span>tmp <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">separate</span>(InstitutionCategoryState,<span class="dt">into=</span>intost,<span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>) 
  salary &lt;-<span class="st"> </span><span class="kw">rbind</span>(salary,tmp)
}

salary</code></pre></div>
<p>Look at the URLs at the bottom of the main page to find beginning and ending page numbers. Visually this is easy. Programmatically we could do something like the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># https://www.insidehighered.com/aaup-compensation-survey?page=1</span>
<span class="co"># https://www.insidehighered.com/aaup-compensation-survey?page=94</span>

<span class="co"># What is the last page number ? We already know the answer - 94</span>

lastnum &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_nodes</span>(<span class="dt">xpath=</span><span class="st">&#39;//a&#39;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">html_attr</span>(<span class="st">&quot;href&quot;</span>) <span class="op">%&gt;%</span><span class="st"> &#39;[&#39;</span>(<span class="dv">103</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">strsplit</span>(.,<span class="st">&quot;page=&quot;</span>) <span class="op">%&gt;%</span><span class="st"> &#39;[[&#39;</span>(<span class="dv">1</span>) <span class="op">%&gt;%</span><span class="st"> &#39;[&#39;</span>(<span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">as.numeric</span>(.)

<span class="co"># So now we could get all pages of the survey</span>

str1 &lt;-<span class="st"> &quot;https://www.insidehighered.com/aaup-compensation-survey?&quot;</span>
str2 &lt;-<span class="st"> &quot;institution-name=&amp;professor-category=1591&amp;page=&quot;</span>
intost &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Institution&quot;</span>,<span class="st">&quot;Category&quot;</span>,<span class="st">&quot;State&quot;</span>)

salary &lt;-<span class="st"> </span><span class="kw">data.frame</span>()

<span class="cf">for</span> (ii <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span>lastnum) {
  nurl  &lt;-<span class="st"> </span><span class="kw">paste</span>(str1,str2,ii,<span class="dt">sep=</span><span class="st">&quot;&quot;</span>)
  df &lt;-<span class="st"> </span><span class="kw">read_html</span>(nurl)
  tmp &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_table</span>() <span class="op">%&gt;%</span><span class="st"> `</span><span class="dt">[[</span><span class="st">`</span>(<span class="dv">1</span>)
  tmp &lt;-<span class="st"> </span>tmp <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">separate</span>(InstitutionCategoryState,<span class="dt">into=</span>intost,<span class="dt">sep=</span><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>) 
  salary &lt;-<span class="st"> </span><span class="kw">rbind</span>(salary,tmp)
  <span class="kw">Sys.sleep</span>(<span class="dv">1</span>)
}
<span class="kw">names</span>(salary) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Institution&quot;</span>,<span class="st">&quot;Category&quot;</span>,<span class="st">&quot;State&quot;</span>,<span class="st">&quot;AvgSalFP&quot;</span>,<span class="st">&quot;AvgChgFP&quot;</span>,
                   <span class="st">&quot;CntFP&quot;</span>,<span class="st">&quot;AvgTotCompFP&quot;</span>,<span class="st">&quot;SalEquityFP&quot;</span>)

salary &lt;-<span class="st"> </span>salary <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">AvgSalFP=</span><span class="kw">as.numeric</span>(<span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">$|,&quot;</span>,<span class="st">&quot;&quot;</span>,salary<span class="op">$</span>AvgSalFP))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">AvgTotCompFP=</span><span class="kw">as.numeric</span>(<span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">$|,&quot;</span>,<span class="st">&quot;&quot;</span>,salary<span class="op">$</span>AvgTotCompFP)))

salary <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">group_by</span>(State,Category) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">avg=</span><span class="kw">mean</span>(AvgSalFP)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(avg))</code></pre></div>
<p>There are some problems:</p>
<ul>
<li>Data is large and scattered across multiple pages</li>
<li>We could use above techniques to move from page to page</li>
<li>There is a form we could use to narrow criteria</li>
<li>But we have to programmatically submit the form</li>
<li>rvest (and other packages) let you do this</li>
</ul>
</div>
<div id="filling-out-forms-from-a-program" class="section level2">
<h2><span class="header-section-number">3.3</span> Filling Out Forms From a Program</h2>
<div class="figure">
<img src="PICS/salary_form.png" alt="Salary" width="250" />
<p class="caption">Salary</p>
</div>
<p>Let’s find salaries between $ 150,000 and the default max ($ 244,000)</p>
<ul>
<li>Find the element name associated with “Average Salary”</li>
<li>Establish a connection with the form (usually the url of the page)</li>
<li>Get a local copy of the form</li>
<li>Fill in the value for the “Average Salary”</li>
<li>Submit the lled in form</li>
<li>Get the results and parse them like above `</li>
</ul>
<p>So finding the correct element is more challenging. I use Chrome to do this. Just highlight the area over the form and right click to “Insepct” the element. This opens up the developer tools. You have to dig down to find the corrext form and the element name. Here is a screen shot of my activity:</p>
<div class="figure">
<img src="PICS/form.png" alt="Salary" width="550" />
<p class="caption">Salary</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">url &lt;-<span class="st"> &quot;https://www.insidehighered.com/aaup-compensation-survey&quot;</span>

<span class="co"># Establish a session</span>
mysess &lt;-<span class="st"> </span><span class="kw">html_session</span>(url)

<span class="co"># Get the form</span>

form_unfilled &lt;-<span class="st"> </span>mysess <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_node</span>(<span class="st">&quot;form&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_form</span>()
form_filled   &lt;-<span class="st"> </span>form_unfilled <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">set_values</span>(<span class="st">&quot;range-from&quot;</span>=<span class="dv">150000</span>)

<span class="co"># Submit form</span>

results &lt;-<span class="st"> </span><span class="kw">submit_form</span>(mysess,form_filled)</code></pre></div>
<pre><code>## Submitting with &#39;op&#39;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">first_page &lt;-<span class="st"> </span>results <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_nodes</span>(<span class="dt">xpath=</span>expr) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_table</span>()

first_page</code></pre></div>
<pre><code>## [[1]]
##                                                     InstitutionCategoryState
## 1                          Ohio State University-Main Campus\nDoctoral\nOHIO
## 2             University of Illinois at Urbana-Champaign\nDoctoral\nILLINOIS
## 3  University of Colorado Denver/Anschutz Medical Campus\nDoctoral\nCOLORADO
## 4                                     University of Houston\nDoctoral\nTEXAS
## 5                              Amherst College\nBaccalaureate\nMASSACHUSETTS
## 6                 University of California-Merced\nBaccalaureate\nCALIFORNIA
## 7                      University of Illinois at Chicago\nDoctoral\nILLINOIS
## 8                             Wake Forest University\nMaster\nNORTH CAROLINA
## 9                       Rensselaer Polytechnic Institute\nDoctoral\nNEW YORK
## 10                              Brandeis University\nDoctoral\nMASSACHUSETTS
##    Avg. SalaryFull Professors Avg. ChangeContinuing Full Professors
## 1                    $150,000                                  2.7%
## 2                    $150,500                                  4.1%
## 3                    $150,800                                  2.2%
## 4                    $150,900                                  0.9%
## 5                    $151,000                                  2.8%
## 6                    $151,100                                   N/A
## 7                    $151,100                                  4.1%
## 8                    $151,700                                  3.2%
## 9                    $151,800                                  3.3%
## 10                   $151,900                                  3.5%
##    CountFull Professors Avg. Total CompensationFull Professors
## 1                   994                               $195,700
## 2                   833                               $190,600
## 3                   179                               $207,200
## 4                   427                               $183,300
## 5                    85                               $196,700
## 6                    55                               $204,500
## 7                   346                               $194,000
## 8                   194                               $191,000
## 9                   199                               $204,000
## 10                  150                               $194,300
##    Salary EquityFull Professors
## 1                          89.6
## 2                          91.4
## 3                          93.1
## 4                          85.8
## 5                          92.3
## 6                          88.9
## 7                          94.4
## 8                          85.4
## 9                          98.6
## 10                         96.6</code></pre>
</div>
<div id="pubmed" class="section level2">
<h2><span class="header-section-number">3.4</span> PubMed</h2>
<p>Pubmed provides a rich source of information on published scientific literature. There are tutorials on how to leverage its capabilities but one thing to consider is that MESH terms are a good starting place since the search is index-based. MeSH (Medical Subject Headings) is the NLM controlled vocabulary thesaurus used for indexing articles for PubMed. It’s faster and more accurate so you can first use the MESH browser to generate the appropriate search terms and add that into the Search interface. The MESH browser can be found at <a href="https://www.ncbi.nlm.nih.gov/mesh/" class="uri">https://www.ncbi.nlm.nih.gov/mesh/</a></p>
<div class="figure">
<img src="PICS/pubmed1.png" width="550" />

</div>
<div class="figure">
<img src="PICS/mesh.png" width="550" />

</div>
<p>What we do here is get the links associated with each publication so we can then process each of those and get the abstract associated with each publication.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">url &lt;-<span class="st"> &quot;https://www.ncbi.nlm.nih.gov/pubmed/?term=%22hemodialysis%2C+home%22+%5BMeSH+Terms%5D&quot;</span>

<span class="co"># </span>

results &lt;-<span class="st"> </span><span class="kw">read_html</span>(url) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">html_nodes</span>(<span class="st">&quot;a&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">html_attr</span>(<span class="st">&quot;href&quot;</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">grep</span>(<span class="st">&quot;/pubmed/[0-9]{1,6}&quot;</span>,.,<span class="dt">value=</span><span class="ot">TRUE</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unique</span>(.)

results</code></pre></div>
<pre><code>##  [1] &quot;/pubmed/30212930&quot; &quot;/pubmed/29656667&quot; &quot;/pubmed/29272506&quot;
##  [4] &quot;/pubmed/29148012&quot; &quot;/pubmed/29122999&quot; &quot;/pubmed/29122220&quot;
##  [7] &quot;/pubmed/28978613&quot; &quot;/pubmed/28963833&quot; &quot;/pubmed/28835369&quot;
## [10] &quot;/pubmed/28710094&quot; &quot;/pubmed/28679363&quot; &quot;/pubmed/28651528&quot;
## [13] &quot;/pubmed/28614637&quot; &quot;/pubmed/28597060&quot; &quot;/pubmed/28546368&quot;
## [16] &quot;/pubmed/28535526&quot; &quot;/pubmed/28495360&quot; &quot;/pubmed/28490435&quot;
## [19] &quot;/pubmed/28485119&quot; &quot;/pubmed/28448966&quot;</code></pre>
<div class="figure">
<img src="PICS/pubmed_results.png" width="550" />

</div>
<p>So now we could loop through these links and get the abstracts for these results. It looks that there are approximately 10 results per page. As before we would have to dive in to the underlying structure of the page to get the correct XML pathnames or we could look for Paragraph elements and pick out the links that way.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">text.vec &lt;-<span class="st"> </span><span class="kw">vector</span>()

<span class="cf">for</span> (ii <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(results)) {
  string &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;https://www.ncbi.nlm.nih.gov&quot;</span>,results[ii])
  text.vec[ii] &lt;-<span class="st"> </span><span class="kw">read_html</span>(string) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_nodes</span>(<span class="st">&quot;p&quot;</span>) <span class="op">%&gt;%</span><span class="st"> `</span><span class="dt">[[</span><span class="st">`</span>(<span class="dv">10</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">html_text</span>()
}

<span class="co"># Eliminate lines with newlines characters</span>

final.vec &lt;-<span class="st"> </span>text.vec[<span class="kw">grep</span>(<span class="st">&quot;^</span><span class="ch">\n</span><span class="st">&quot;</span>,text.vec,<span class="dt">invert=</span><span class="ot">TRUE</span>)]

final.vec</code></pre></div>
<pre><code>##  [1] &quot;End-stage renal disease (ESRD) is the final stage of chronic kidney disease in which the kidney is not sufficient to meet the needs of daily life. It is necessary to understand the role of genes expression involved in ESRD patient responses to nocturnal hemodialysis (NHD) and to improve the immunity responsiveness. The aim of this study was to investigate novel immune-associated genes that may play important roles in patients with ESRD.The microarray expression profiles of peripheral blood in patients with ESRD before and after NHD were analyzed by network-based approaches, and then using Gene Ontology (GO) and Kyoto Encyclopedia of Genes and Genomes pathway analysis to explore the biological process and molecular functions of differentially expressed genes. Subsequently, a transcriptional regulatory network of the core genes and the connected transcriptional regulators was constructed. We found that NHD had a significant effect on neutrophil activation and immune response in patients with ESRD.In addition, Our findings suggest that MAPKAPK3, RHOA, ARRB2, FLOT1, MYH9, PRKCD, RHOG, PTPN6, MAPK3, CNPY3, PI3KCG, and PYGL genes maybe potential targets regulated by core transcriptional factors, including ARNT, C/EBPalpha, CEBPA, CREB1, PSG1, DAND5, SP1, GATA1, MYC, EGR2, and EGR3.&quot;                                                                                                                                                                                                                                                                                                                  
##  [2] &quot;Only a minority of patients with chronic kidney disease treated by hemodialysis are currently treated at home. Until relatively recently, the only type of hemodialysis machine available for these patients was a slightly smaller version of the standard machines used for in-center dialysis treatments. Areas covered: There are now an alternative generation of dialysis machines specifically designed for home hemodialysis. The home dialysis patient wants a smaller machine, which is intuitive to use, easy to trouble shoot, robust and reliable, quick to setup and put away, requiring minimal waste disposal. The machines designed for home dialysis have some similarities in terms of touch-screen patient interfaces, and using pre-prepared cartridges to speed up setting up the machine. On the other hand, they differ in terms of whether they use slower or standard dialysate flows, prepare batches of dialysis fluid, require separate water purification equipment, or whether this is integrated, or use pre-prepared sterile bags of dialysis fluid. Expert commentary: Dialysis machine complexity is one of the hurdles reducing the number of patients opting for home hemodialysis and the introduction of the newer generation of dialysis machines designed for ease of use will hopefully increase the number of patients opting for home hemodialysis.&quot;                                                                                                                                                                                                                                                                   
##  [3] &quot;Home haemodialysis (HHD) has the potential to impact positively on patient outcomes and health resource management. There has been rejuvenated international interest in HHD in recent years.&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
##  [4] &quot;Assess the feasibility of using a bovine carotid artery graft for buttonhole technique hemodialysis in patients who are not candidates for a native fistula.&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
##  [5] &quot;renal system; urology; vascular surgery&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
##  [6] &quot;NxStage System One is a new dialytic technology based on easy setup, simplicity of use and reduced dimensions, which is increasingly in use worldwide for home hemodialysis treatments. The system utilizes a low amount of dialysate, usually 15-30 liters according to anthropometric patients&#39; values. The dialysate is supplied at very low flux, generally about 1/3 of blood flow, in order to obtain an elevated saturation of dialysate for solutes. In these conditions the clearance of urea will be almost equal to dialysate flow rate. In order to achieve an obptimal weekly clearance evaluated by Std Kt/V the dialysis sessions are repeated six times a week. In this way a good control of blood voleme can be reached. In this paper we report our experience of treatment with NxStage System One in 12 patients from May 2011 to Dicember 2016.&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
##  [7] &quot;Data on racial disparities in home dialysis utilization and outcomes are lacking in Canada, where health care is universally available.&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
##  [8] &quot;Telehealth and remote monitoring of a patient&#39;s health status has become more commonplace in the last decade and has been applied to conditions such as heart failure, diabetes mellitus, hypertension, and chronic obstructive pulmonary disease. Conversely, uptake of these technologies to help engender and support home RRTs has lagged. Although studies have looked at the role of telehealth in RRT, they are small and single-centered, and both outcome and cost-effectiveness data are needed to inform future decision making. Furthermore, alignment of payer and government (federal and state) regulations with telehealth procedures is needed along with a better understanding of the viewpoints of the various stakeholders in this process (patients, caregivers, clinicians, payers, dialysis organizations, and government regulators). Despite these barriers, telehealth has great potential to increase the acceptance of home dialysis, and improve outcomes and patient satisfaction while potentially decreasing costs. The Kidney Health Initiative convened a multidisciplinary workgroup to examine the current state of telehealth use in home RRTs as well as outline potential benefits and drawbacks, impediments to implementation, and key unanswered questions.&quot;                                                                                                                                                                                                                                                                                                                                                            
##  [9] &quot;Patients starting dialysis often have substantial residual kidney function. Incremental hemodialysis provides a hemodialysis prescription that supplements patients&#39; residual kidney function while maintaining total (residual + dialysis) urea clearance (standard Kt/Vurea) targets. We describe our experience with incremental hemodialysis in patients using NxStage System One for home hemodialysis.&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
## [10] &quot;Internationally, the use of patient-reported outcomes (PROs) is increasing. Electronic PROs (ePROs) offer immediate access of such reports to healthcare providers. The objectives of this study were to assess nurses&#39; perspectives on the usefulness and impact of ePRO administration in home dialysis clinics and assess patient perceptions of satisfaction with nursing care following use of ePROs.&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
## [11] &quot;The Lancashire Teaching Hospitals NHS Trust in the UK has been providing renal care through video-as-a-service (VAAS) to patients since 2013, with support from the North West NHS Shared Infrastructure Service, a collaborative team that supports information and communication technology use in the UK National Health Service.&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
## [12] &quot;Neonatal autosomal recessive polycystic kidney disease (ARPKD) is associated with giant kidneys, lung hypoplasia, pulmonal hypertension, and end-stage renal failure. Depending on the study, mortality is reported to range between 20 and 80%.&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
## [13] &quot;Improvement in the rates of home dialysis has been a desirable but difficult-to-achieve target for United States nephrology. Provision of comprehensive predialysis education (CPE) in institutes with established home dialysis programs has been shown to facilitate a higher home dialysis choice amongst chronic kidney disease (CKD) patients. Unfortunately, limited data have shown the efficacy of such programs in the United States or in institutes with small home dialysis (HoD) programs.&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
## [14] &quot;Home hemodialysis (HD) is undergoing a resurgence. A major driver of this is economics, however, providers are also encouraged by a combination of excellent patient outcomes and patient experiences as well as the development of newer technologies that offer ease of use. Home HD offers significant advantages in flexible scheduling and the practical implementation of extended hours dialysis. This paper explores the reasons why home HD is making a comeback and strives to offer approaches to improve the uptake of this dialysis modality.&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
## [15] &quot;Bone deformities and fractures are common consequences of renal osteodystrophy in the dialysis population. Persistent hypophosphatemia may be observed with more frequent home hemodialysis regimens, but the specific effects on the skeleton are unknown. We present a patient with end-stage renal disease treated with frequent home hemodialysis who developed severe bone pain and multiple fractures, including a hip fracture and a tibia-fibula fracture complicated by nonunion, rendering her nonambulatory and wheelchair bound for more than a year. A bone biopsy revealed severe osteomalacia, likely secondary to chronic hypophosphatemia and hypocalcemia. Treatment changes included the addition of phosphate to the dialysate, a higher dialysate calcium concentration, and increased calcitriol dose. Several months later, the patient no longer required a wheelchair and was able to ambulate without pain. Repeat bone biopsy revealed marked improvements in bone mineralization and turnover parameters. Also, with increased dialysate phosphate and calcium concentrations, as well as increased calcitriol, circulating fibroblast growth factor 23 levels increased.&quot;                                                                                                                                                                                                                                                                                                                                                                                                                                                             
## [16] &quot;The ESRD Prospective Payment System introduced two incentives to increase home dialysis use: bundling injectable medications into a single payment for treatment and paying for home dialysis training. We evaluated the effects of the ESRD Prospective Payment System on home dialysis use by patients starting dialysis in the United States from January 1, 2006 to August 31, 2013. We analyzed data on dialysis modality, insurance type, and comorbidities from the United States Renal Data System. We estimated the effect of the policy on home dialysis use with multivariable logistic regression and compared the effect on Medicare Parts A/B beneficiaries with the effect on patients with other types of insurance. The ESRD Prospective Payment System associated with a 5.0% (95% confidence interval [95% CI], 4.0% to 6.0%) increase in home dialysis use by the end of the study period. Home dialysis use increased by 5.8% (95% CI, 4.3% to 6.9%) among Medicare beneficiaries and 4.1% (95% CI, 2.3% to 5.4%) among patients covered by other forms of health insurance. The difference between these groups was not statistically significant (1.8%; 95% CI, -0.2% to 3.8%). Conversely, in both populations, the training add-on did not associate with increases in home dialysis use beyond the effect of the policy. The ESRD Prospective Payment System bundling, but not the training add-on, associated with substantial increases in home dialysis, which were identical for both Medicare and non-Medicare patients. These spill-over effects suggest that major payment changes in Medicare can affect all patients with ESRD.&quot;
## [17] &quot;We present a case of a patient on home hemodialysis who developed Mycobacterium mucogenicum bacteremia. While infections with this particular organism are rare, disseminated infections have been reported and have been associated with significant morbidity and mortality. Diagnosis required appropriate cultures, understanding of natural habitat of organism and complete environmental analysis including blood, dialysis sample port, reverse osmosis and incoming water supply cultures. The patient was treated successfully with systemic antibiotics, removal of central venous catheter, patient education and complete exchange of the hemodialysis circuit.&quot;</code></pre>
<p>Well that was a lot of work and it’s very tedious. And we processed only the first page of results. How do we “progrmmatically” hit the “Next” Button at the bottom of the page ? This is complicated by the fact that there appears to be some Javascript at work that we would have to somehow interact with to get the URL for the next page. Unlike with the school salary example it isn’t obvious how to do this. If we hove over the “Next” button we don’t get an associated link.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="xml.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="APIs.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["Web Scraping.pdf", "Web Scraping.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
